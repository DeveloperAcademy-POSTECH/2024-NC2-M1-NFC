
## 🎥 Youtube Link
(추후 만들어진 유튜브 링크 추가)

## 💡 About Augmented Reality
<aside>
💡 **NFC란?**

   NFC는 near field communication의 줄임말로, 근거리 통신 기술을 말함. 

   Nfc 기술을 이용하여 10cm이내의 매우 가까운 거리에서 데이터를 교환할 수 있습니다.
   

</aside>

**✅NFC 활용 방법**

1️⃣ 데이터 교환 

- NameDrop과 Airdrop 같이 nfc를 이용해 데이터를 교환할 수 있습니다. (airdrop은 wifi 이용하는 건데, iOS17 이상부터 airdrop을 nfc로도 이용가능하다고 합니다.)

2️⃣ 결제 시스템

- Apple Pay와 티머니 교통카드 스티커

3️⃣ 단축어 / 정보 확인

- 아이폰 단축어와 NFC 스티커를 연결하여 태깅했을 때 원하는 행동을 하게 할 수 있습니다.
- 리더기에 핸드폰을 태깅해 다양한 정보를 확인할 수 있습니다.

## 🎯 What we focus on?
<aside>
🍪 Tag reader와 아이폰에 집중

</aside>

- 다양한 활용 방법 중 하드웨어와 앱의 연동을 해보고 싶어서 리더기에 핸드폰을 태깅했을 때 정보가 뜨는 것에 집중하였습니다.

## 💼 Use Case
<aside>
🌎 **NFC 태그를 활용하여 미팅룸을 예약할 수 있게 만들자!**

</aside>

- who : 미팅룸을 사용하려는 아카데미생&시니어 러너
- when: 미팅룸 예약이 필요할 때
- how: nfc 태그를 활용하여 각 미팅룸 예약 페이지를 통해 당일예약함.

## 🖼️ Prototype
### 1. 태깅

- 앱에 들어가서 “스캔하기” 버튼을 누르고 각 미팅룸 앞에 붙어있는 NFC 스티커에 핸드폰을 가까이 가져갑니다.

![2 %20%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A2%E1%86%AB%20%E1%84%87%E1%85%B2](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/d9ee362c-2c54-4d7c-99a6-5b4b34a87ab0)
![2 %20%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A2%E1%86%AB%20%E1%84%87%E1%85%B2-1](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/6e95d6e7-b767-4fae-ad01-5fd07ab830a1)

### 2. 메인페이지

- 성공적으로 스캔이 되면 메인페이지에 해당 미팅룸에 대한 예약페이지가 뜹니다.
- 예약하고 싶은 시간대 선택합니다.
  
![2 %20%E1%84%91%E1%85%AD(%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AFx)-1](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/4e92de3f-7077-44ad-b7c9-816619984f14)
![2 %20%E1%84%91%E1%85%AD(%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AFx)-2](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/6b206dfc-222d-492e-bd8f-f2ccf776194a)



### 3. 예약하기

- 예약하기를 누르면 예약창이 뜹니다. 정보를 입력합니다.
  
![iPhone%2014%20%26%2015%20Pro%20-%20%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%A3%E1%86%A8%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/052dc221-6232-410a-9e85-1c53c216cc40)
  ![iPhone%2014%20%26%2015%20Pro%20-%20%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%A3%E1%86%A8%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%20%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%A3%E1%86%A8%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8B%E1%85%AF%E1%86%AB-1](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/4079e435-13ea-43ce-a16f-332e91cab22f)



### 4.  수정 / 삭제하기
![2 %20%E1%84%91%E1%85%AD(%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AFx)](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/29085645-e39e-4ec6-9cda-864bd2601f74)
![iPhone%2014%20%26%2015%20Pro%20-%20%E1%84%89%E1%85%AE%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/34a9307d-3eac-48bc-9497-706d592fbdf8)

![iPhone%2014%20%26%2015%20Pro%20-%20%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%A3%E1%86%A8%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%20%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%A3%E1%86%A8%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8B%E1%85%AF%E1%86%AB](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/f5c80f1d-bfca-428b-acfd-bae7bd01436b)
![2 %20%E1%84%91%E1%85%AD(%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AFx)-3](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/94290cc0-bcef-4bcb-a751-b2f6955f8d17)




##

## 🛠️ About Code

<img width="400" alt="스크린샷 2024-06-20 오후 10 38 45" src="https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M1-NFC/assets/160375101/9a4de0d6-4d3c-43ae-b91a-fa989710f20e">

**NFC 태그 읽기 기능을 구현하기 위해 필요한 핵심 기능 시각화 한 자료입니다.**

``` swift
private func startNFCTagging() {
    let session = NFCTagReaderSession(pollingOption: .iso14443, delegate: NFCFeature.shared)
    session?.begin()
}

class NFCFeature: NSObject, NFCTagReaderSessionDelegate {
    static let shared = NFCFeature()

    var completeNavigate: (() -> Void)?
    
    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) {
        print("become active")
    }
    
    func tagReaderSession(_ session: NFCTagReaderSession, didInvalidateWithError error: any Error) {
        if let readerError = error as? NFCReaderError, readerError.code != .readerSessionInvalidationErrorFirstNDEFTagRead {
            print("NFC Reader session 오류 \(error.localizedDescription)")
        }
    }
    
    func tagReaderSession(_ session: NFCTagReaderSession, didDetect tags: [NFCTag]) {
        print(tags)
        if let completeNavigate {
            completeNavigate()
        }
        session.invalidate()
    }
    
    
}
```

**위 기능을 구현하기 위해 작성된 NFC 기술의 핵심 기능을 구현한 코드는 다음과 같습니다.** 

NFC 태그를 감지하고, 감지된 태그가 있을 때 특정 작업을 수행합니다. 태그를 읽는 것을 목표로하는 본 코드는 크게 NFC 태그의 감지를 시작하는 단계와 NFC 태그를 감지하는 단계로 분리할 수 있습니다. 

``` swift
private func startNFCTagging() {
    let session = NFCTagReaderSession(pollingOption: .iso14443, delegate: NFCFeature.shared)
    session?.begin()
}
```

**NFC 태그의 감지를 시작하는 메서드의 코드는 표시한 부분입니다.**

 NFCTagReaderSession이란 CoreNFC 프레임워크의 클래스 중 하나로, 다양한 NFC 태그를 검색하고 상호작용 할 수 있게 해줍니다.

``` swift
class NFCFeature: NSObject, NFCTagReaderSessionDelegate {
    static let shared = NFCFeature()

    var completeNavigate: (() -> Void)?
    
    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) {
        print("become active")
    }
    
    func tagReaderSession(_ session: NFCTagReaderSession, didInvalidateWithError error: any Error) {
        if let readerError = error as? NFCReaderError, readerError.code != .readerSessionInvalidationErrorFirstNDEFTagRead {
            print("NFC Reader session 오류 \(error.localizedDescription)")
        }
    }
    
    func tagReaderSession(_ session: NFCTagReaderSession, didDetect tags: [NFCTag]) {
        print(tags)
        if let completeNavigate {
            completeNavigate()
        }
        session.invalidate()
    }
    
    
}
```

**NFC 태그를 감지하는 단계는, 표시한 코드와 같이 표현하였습니다.** 

NFCFeature class는 NFCTagReaderSessiondelegate protocol을 채택하여 NFC 태그 감지와 관련된 이벤트를 처리합니다.

``` swift
func tagReaderSession(_ session: NFCTagReaderSession, didInvalidateWithError error: any Error) {
        if let readerError = error as? NFCReaderError, readerError.code != .readerSessionInvalidationErrorFirstNDEFTagRead {
            print("NFC Reader session 오류 \(error.localizedDescription)")
        }
    }
```

**NFC 태그를 감지 하는 동안 생기는 오류를 처리하는 메서드를 구현하였습니다.** 

이 메서드는 NFC 리더 세션이 오류로 인해 무효화되었을 때 호출됩니다.

``` swift
func tagReaderSession(_ session: NFCTagReaderSession, didDetect tags: [NFCTag]) {
        print(tags)
        if let completeNavigate {
            completeNavigate()
        }
        session.invalidate()
    }
```

**NFC 태그 감지 후 이벤트를 생성하기 위한 코드입니다.** 

이 메서드는 하나 이상의 NFC 태그가 감지 되었을 때 호출되고, 감지된 태그의 목록을 출력합니다. 만약 클로저가 설정되어 있으면 이를 호출하고 이후 세션을 무효화합니다.
